(this["webpackJsonpalkemy-octubre"]=this["webpackJsonpalkemy-octubre"]||[]).push([[0],{24:function(e,t,a){},44:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a.n(n),o=a(19),c=a.n(o),r=(a(24),a(2)),i=a(4),l=a.n(i),u=a(3),p=(a(44),a(0)),j=function(e){var t=e.amount;return Object(p.jsxs)("div",{children:["El balance actual es de $",t]})},d=a(7),b=a.n(d),m=a(8),h=function(e){var t=e.delId;e.setReloading,e.setMessage;return Object(p.jsx)("button",{onClick:function(){l.a.delete("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/alkemy-octubre",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_CREATE_ROUTE:"https://alkemy-octubre.herokuapp.com/api/operaciones/create",REACT_APP_DELETE_ROUTE:"https://alkemy-octubre.herokuapp.com/api/operaciones",REACT_APP_GET_OPS_ROUTE:"https://alkemy-octubre.herokuapp.com/api/operaciones",REACT_APP_LOGIN_ROUTE:"https://alkemy-octubre.herokuapp.com/api/user/login",REACT_APP_MODIFY_ROUTE:"https://alkemy-octubre.herokuapp.com/api/operaciones",REACT_APP_REGISTER_ROUTE:"https://alkemy-octubre.herokuapp.com/api/user/register",REACT_APP_USER_ROUTE:"https://alkemy-octubre.herokuapp.com/api/user"}).DELETE_ROUTE),{params:{id:t}}).then((function(e){204===e.status?console.log(e):(console.log(e),console.log("No se pudo eliminar el elemento. Intenta de nuevo mas tarde"))})).catch((function(e){return console.log(e)}))},children:"Borrar elemento"})},O=a(6),g=function(e){var t=e.modId,a=e.op,s=(e.setMessage,e.setReloading,Object(n.useState)(!1)),o=Object(r.a)(s,2),c=o[0],i=o[1],j=Object(n.useState)({concept:a.concept,amount:a.amount,date:a.op_date.split("T")[0]}),d=Object(r.a)(j,2),b=d[0],m=d[1],h=function(e){m(Object(u.a)(Object(u.a)({},b),{},Object(O.a)({},e.target.name,e.target.value)))};return Object(p.jsxs)("div",{children:[Object(p.jsx)("button",{onClick:function(){return c?void i(!1):i(!0)},children:"Modificar Elemento"}),c?Object(p.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault(),""===b.concept||"0000-00-00"===b.date||""===b.date?console.log("Completa los campos faltantes"):b.concept.trim().length<=3?(console.log("Ingresa un concepto mas largo"),m(Object(u.a)(Object(u.a)({},b),{},{concept:a.concept}))):b.amount<=0?(console.log("Ingresa un dato de monto que no sea negativo o igual a 0"),m(Object(u.a)(Object(u.a)({},b),{},{amount:a.amount}))):l.a.put("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/alkemy-octubre",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_CREATE_ROUTE:"https://alkemy-octubre.herokuapp.com/api/operaciones/create",REACT_APP_DELETE_ROUTE:"https://alkemy-octubre.herokuapp.com/api/operaciones",REACT_APP_GET_OPS_ROUTE:"https://alkemy-octubre.herokuapp.com/api/operaciones",REACT_APP_LOGIN_ROUTE:"https://alkemy-octubre.herokuapp.com/api/user/login",REACT_APP_MODIFY_ROUTE:"https://alkemy-octubre.herokuapp.com/api/operaciones",REACT_APP_REGISTER_ROUTE:"https://alkemy-octubre.herokuapp.com/api/user/register",REACT_APP_USER_ROUTE:"https://alkemy-octubre.herokuapp.com/api/user"}).REACT_APP_MODIFY_OPERATION),{params:{id:t}}).then((function(e){console.log(e)}))}(e)},children:[Object(p.jsx)("input",{type:"text",name:"concept",value:b.concept,onChange:h}),Object(p.jsx)("input",{type:"number",name:"amount",value:b.amount,onChange:h}),Object(p.jsx)("input",{type:"date",name:"date",value:b.date,onChange:h}),Object(p.jsx)("input",{type:"submit"})]}):null]})},x=(a(47),function(e){var t=e.data,a=e.setReloading,s=e.setMessage,o=Object(n.useState)([]),c=Object(r.a)(o,2),i=c[0],l=c[1],u=Object(n.useState)([]),j=Object(r.a)(u,2),d=j[0],O=j[1],x=function(){var e=Object(m.a)(b.a.mark((function e(t){var n,o;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.filter((function(e){return"income"===e.op_type})).map((function(e){return Object(p.jsxs)("li",{children:[Object(p.jsx)("span",{children:e.concept}),"$",e.amount," ",Object(p.jsx)(g,{modId:e.id_operations,op:e,setReloading:a,setMessage:s})," ",Object(p.jsx)(h,{delId:e.id_operations,setReloading:a,setMessage:s})]},e.id_operations)}));case 2:return n=e.sent,e.next=5,t.filter((function(e){return"expense"===e.op_type})).map((function(e){return Object(p.jsxs)("li",{children:[Object(p.jsx)("span",{children:e.concept}),"$",e.amount," ",Object(p.jsx)(g,{modId:e.id_operations,op:e,setReloading:a,setMessage:s})," ",Object(p.jsx)(h,{delId:e.id_operations,setReloading:a,setMessage:s})]},e.id_operations)}));case 5:o=e.sent,0!==n.length&&l([n]),0!==o.length&&O([o]);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){x(t)}),[t]),Object(p.jsxs)("div",{className:"main-table",children:[Object(p.jsxs)("div",{className:"op-table",children:[Object(p.jsx)("h2",{children:"Ingresos"}),Object(p.jsx)("ul",{children:0===i.length?Object(p.jsx)("h2",{children:"No tienes operaciones en Ingresos. Puedes crear una abajo"}):i})]}),Object(p.jsxs)("div",{className:"op-table",children:[Object(p.jsx)("h2",{children:"Egresos"}),Object(p.jsx)("ul",{children:0!==d.length?d:Object(p.jsx)("h2",{children:"No tienes operaciones en Egresos. Puedes crear una abajo"})})]})]})}),f=(a(48),function(e){var t=e.setReloading,a=e.setMessage,s=e.categories,o=Object(n.useState)(!1),c=Object(r.a)(o,2),i=c[0],j=c[1],d=Object(n.useState)({concept:"",amount:0,op_type:"",op_date:"",category:"otros",modified_at:null}),h=Object(r.a)(d,2),g=h[0],x=h[1],f=function(e){x(Object(u.a)(Object(u.a)({},g),{},Object(O.a)({},e.target.name,e.target.value)))},v=function(){var e=Object(m.a)(b.a.mark((function e(n){var s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),""!==g.concept&&""!==g.op_type&&"0000-00-00"!==g.op_date&&""!==g.op_date){e.next=5;break}a({show:!0,message:"Completa los campos faltantes"}),e.next=18;break;case 5:if(!(g.concept.trim().length<=3)){e.next=10;break}a({show:!0,message:"Ingresa un concepto mas largo"}),x(Object(u.a)(Object(u.a)({},g),{},{concept:""})),e.next=18;break;case 10:if(!(g.amount<=0)){e.next=14;break}a({show:!0,message:"Ingresa un dato de monto que no sea negativo o igual a 0"}),e.next=18;break;case 14:return e.next=16,localStorage.getItem("Token");case 16:s=e.sent,l.a.post("https://alkemy-octubre.herokuapp.com/api/operaciones/create",g,{headers:{authorization:s}}).then((function(e){console.log(e),setTimeout((function(){t(!0)}),3e3)}));case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsxs)("div",{children:[Object(p.jsx)("button",{onClick:function(){return j(!i)},children:"Crear operaci\xf3n"}),i?Object(p.jsxs)("form",{className:"add-form",onSubmit:function(e){return v(e)},children:[Object(p.jsxs)("div",{children:[Object(p.jsx)("label",{htmlFor:"concept",children:"Concepto"}),Object(p.jsx)("input",{value:g.concept,name:"concept",placeholder:"Ingresa nombre de operacion",onChange:f})]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("label",{htmlFor:"amount",children:"Monto"}),Object(p.jsx)("input",{value:g.amount,type:"number",name:"amount",placeholder:"500, 700, 80000",onChange:f})]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("label",{htmlFor:"type",children:"Tipo de operaci\xf3n"}),Object(p.jsxs)("select",{value:g.op_type,name:"op_type",onChange:f,children:[Object(p.jsx)("option",{value:"",children:"Elige tipo de operacion"}),Object(p.jsx)("option",{value:"income",children:"Ingreso"}),Object(p.jsx)("option",{value:"expense",children:"Egreso"})]})]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("label",{htmlFor:"category",children:"Categor\xeda"}),Object(p.jsxs)("select",{value:g.category,name:"category",onChange:f,children:[Object(p.jsx)("option",{value:"otros",children:"Otros"}),s.map((function(e,t){return Object(p.jsx)("option",{value:e,children:e},t)}))]})]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("label",{htmlFor:"date",children:"Fecha"}),Object(p.jsx)("input",{value:g.op_date,type:"date",name:"op_date",onChange:f})]}),Object(p.jsx)("input",{type:"submit"})]}):null]})}),v=["gaming","suscripciones","hogar","Tecnologia","Trabajo","Salidas","Deportes","Educaci\xf3n","Delivery","hobbies","donaciones","belleza","auto","hijos","familia","mascotas","amigos","transporte","shopping","bares","entretenimiento","vestimenta","viajes","cuidado personal","servicios","cajeros","supermercados","restaurant"],_=function(e){var t=e.authorization,a=e.setAuthorization,s=e.setMessage,o=Object(n.useState)([]),c=Object(r.a)(o,2),i=c[0],d=c[1],b=Object(n.useState)(!1),m=Object(r.a)(b,2),h=m[0],O=m[1];return Object(n.useEffect)((function(){l.a.get("https://alkemy-octubre.herokuapp.com/api/user",{headers:{authorization:t.token}}).then((function(e){console.log(e),a(Object(u.a)(Object(u.a)({},t),{},{username:e.data.username,balance:e.data.balance}))})),l.a.get("https://alkemy-octubre.herokuapp.com/api/operaciones",{headers:{authorization:t.token}}).then((function(e){0!==e.data?(d(e.data.data),O(!1)):s({show:!0,message:"Algo salio mal"})}))}),[h]),Object(p.jsx)("div",{className:"home-div",children:Object(p.jsxs)("div",{className:"Home-container",children:[Object(p.jsxs)("h1",{children:["Bienvenid@ ",t.username]}),Object(p.jsxs)("div",{children:[Object(p.jsx)(j,{amount:t.balance}),Object(p.jsx)(x,{setMessage:s,setReloading:O,data:i}),Object(p.jsx)(f,{token:t.token,categories:v,setMessage:s,setReloading:O})]})]})})},E=(a(49),function(e){var t=e.setMessage,a=e.setVisible,s=Object(n.useState)({email:"",username:"",password:""}),o=Object(r.a)(s,2),c=o[0],i=o[1],j=c.email,d=c.username,b=c.password,m=function(e){i(Object(u.a)(Object(u.a)({},c),{},Object(O.a)({},e.target.name,e.target.value)))};return Object(p.jsxs)("div",{className:"Login-Page-container",children:[Object(p.jsx)("h1",{children:"Bienvenido a Wallet App"}),Object(p.jsx)("h2",{children:"Registrarse"}),Object(p.jsx)("div",{style:{width:"300px"},children:Object(p.jsx)("div",{className:"gif-Login",children:Object(p.jsx)("iframe",{title:"pepe",src:"https://giphy.com/embed/3o6UB5RrlQuMfZp82Y",width:"100%",height:"100%",frameBorder:"0",className:"giphy-embed",allowFullScreen:!0})})}),Object(p.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""===j||""===d||""===b?t({show:!0,message:"Completa los campos requeridos"}):d.length<=3?t({show:!0,message:"El username tiene que tener al menos 3 caracteres"}):b.length<6?t({show:!0,message:"La contrase\xf1a tiene que tener al menos 6 caracteres"}):l.a.post("https://alkemy-octubre.herokuapp.com/api/user/register",{headers:{Content_Type:"application/json"},email:j,username:d,password:b}).then((function(e){t({show:!0,message:e.data.message}),setTimeout((function(){a((function(e){return!e}))}),3e3)}))},children:[Object(p.jsxs)("div",{children:[Object(p.jsx)("label",{htmlFor:"email",children:"Email"}),Object(p.jsx)("input",{type:"email",name:"email",value:c.email,onChange:m})]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("label",{htmlFor:"username",children:"Username"}),Object(p.jsx)("input",{type:"text",name:"username",value:c.username,onChange:m})]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("label",{htmlFor:"password",children:"Password"}),Object(p.jsx)("input",{type:"password",name:"password",value:c.password,onChange:m})]}),Object(p.jsx)("input",{type:"submit",value:"Registrarse"})]}),Object(p.jsx)("button",{onClick:function(){return a((function(e){return!e}))},children:"\xbfYa tienes cuenta? \xa1Logueate aqu\xed!"}),Object(p.jsx)("p",{children:"Tienes que iniciar sesi\xf3n para poder acceder a la aplicaci\xf3n"})]})}),T=(a(50),function(e){var t=e.setLogin,a=e.setMessage,s=e.setAuthorization,o=Object(n.useState)({email:"",password:""}),c=Object(r.a)(o,2),i=c[0],j=c[1],d=Object(n.useState)(!1),b=Object(r.a)(d,2),m=b[0],h=b[1],g=i.email,x=i.password,f=function(e){j(Object(u.a)(Object(u.a)({},i),{},Object(O.a)({},e.target.name,e.target.value)))};return Object(p.jsx)(p.Fragment,{children:!0===m?Object(p.jsx)(E,{setMessage:a,setVisible:h}):Object(p.jsxs)("div",{className:"Login-Page-container",children:[Object(p.jsx)("h1",{children:"Bienvenido a Wallet App"}),Object(p.jsx)("h2",{children:"Loguearse"}),Object(p.jsx)("div",{style:{width:"300px"},children:Object(p.jsx)("div",{className:"gif-Login",children:Object(p.jsx)("iframe",{title:"pepe",src:"https://giphy.com/embed/3o6UB5RrlQuMfZp82Y",width:"100%",height:"100%",frameBorder:"0",className:"giphy-embed",allowFullScreen:!0})})}),Object(p.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""===g||""===x?a({show:!0,message:"Completa los campos requeridos"}):x.length<6?a({show:!0,message:"La contrase\xf1a tiene que tener al menos 6 caracteres"}):l.a.post("https://alkemy-octubre.herokuapp.com/api/user/login",{email:g,password:x}).then((function(e){200===e.data.status?(a({show:!0,message:e.data.message}),localStorage.setItem("Token",e.data.token),s({username:"",balance:0,token:e.data.token}),setTimeout((function(){t(!0)}),3e3)):a({show:!0,message:e.data.message})}))},children:[Object(p.jsxs)("div",{children:[Object(p.jsx)("label",{htmlFor:"email",children:"Email"}),Object(p.jsx)("input",{type:"email",name:"email",value:i.email,onChange:f})]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("label",{htmlFor:"password",children:"Password"}),Object(p.jsx)("input",{type:"password",name:"password",value:i.password,onChange:f})]}),Object(p.jsx)("input",{type:"submit"})]}),Object(p.jsx)("button",{onClick:function(){return h(!m)},children:"\xbfNo tienes cuenta? \xa1Registrate Aqu\xed!"}),Object(p.jsx)("p",{children:"Tienes que iniciar sesi\xf3n para poder acceder a la aplicaci\xf3n"})]})})});var k=function(){var e=Object(n.useState)(!1),t=Object(r.a)(e,2),a=t[0],s=t[1],o=Object(n.useState)({username:"",token:"",balance:0}),c=Object(r.a)(o,2),i=c[0],l=c[1],u=Object(n.useState)({show:!1,message:""}),j=Object(r.a)(u,2),d=j[0],b=j[1];return Object(n.useEffect)((function(){}),[a]),Object(n.useEffect)((function(){!1!==d.show&&setTimeout((function(){b({show:!1,message:""})}),5e3)}),[d]),Object(p.jsxs)(p.Fragment,{children:[!1!==d.show&&d.message,!0===a?Object(p.jsx)(_,{setMessage:b,setAuthorization:l,authorization:i}):Object(p.jsx)(T,{setLogin:s,setMessage:b,setAuthorization:l})]})},R=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,52)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,o=t.getLCP,c=t.getTTFB;a(e),n(e),s(e),o(e),c(e)}))};c.a.render(Object(p.jsx)(s.a.StrictMode,{children:Object(p.jsx)(k,{})}),document.getElementById("root")),R()}},[[51,1,2]]]);
//# sourceMappingURL=main.d6f45700.chunk.js.map