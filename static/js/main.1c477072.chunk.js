(this["webpackJsonpalkemy-octubre"]=this["webpackJsonpalkemy-octubre"]||[]).push([[0],{24:function(e,t,a){},44:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a.n(n),o=a(19),c=a.n(o),i=(a(24),a(2)),r=a(4),l=a.n(r),u=a(3),j=(a(44),a(0)),d=function(e){var t=e.amount;return Object(j.jsxs)("div",{children:["El balance actual es de $",t]})},p=a(7),h=a.n(p),b=a(8),O=function(e){var t=e.delId;e.setReloading,e.setMessage;return Object(j.jsx)("button",{onClick:function(){l.a.delete("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/alkemy-octubre",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_AUTH0_CLIENT_ID:"S7Jd3AFErGPjuH5ABtX3fK36jqxFBuVx",REACT_APP_AUTH0_DOMAIN:"sdfasdfhasalkemyasdjfasdfsdsep.us.auth0.com",REACT_APP_CREATE_ROUTE:"http://localhost:3500/api/operaciones/create",REACT_APP_DELETE_ROUTE:"http://localhost:3500/api/operaciones",REACT_APP_GET_OPS_ROUTE:"http://localhost:3500/api/operaciones",REACT_APP_LOGIN_ROUTE:"http://localhost:3500/api/user/login",REACT_APP_MODIFY_ROUTE:"http://localhost:3500/api/operaciones",REACT_APP_REGISTER_ROUTE:"http://localhost:3500/api/user/register",REACT_APP_USER_ROUTE:"http://localhost:3500/api/user"}).DELETE_ROUTE),{params:{id:t}}).then((function(e){204===e.status?console.log(e):(console.log(e),console.log("No se pudo eliminar el elemento. Intenta de nuevo mas tarde"))})).catch((function(e){return console.log(e)}))},children:"Borrar elemento"})},m=a(6),g=function(e){var t=e.modId,a=e.op,s=(e.setMessage,e.setReloading,Object(n.useState)(!1)),o=Object(i.a)(s,2),c=o[0],r=o[1],d=Object(n.useState)({concept:a.concept,amount:a.amount,date:a.op_date.split("T")[0]}),p=Object(i.a)(d,2),h=p[0],b=p[1],O=function(e){b(Object(u.a)(Object(u.a)({},h),{},Object(m.a)({},e.target.name,e.target.value)))};return Object(j.jsxs)("div",{children:[Object(j.jsx)("button",{onClick:function(){return c?void r(!1):r(!0)},children:"Modificar Elemento"}),c?Object(j.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault(),""===h.concept||"0000-00-00"===h.date||""===h.date?console.log("Completa los campos faltantes"):h.concept.trim().length<=3?(console.log("Ingresa un concepto mas largo"),b(Object(u.a)(Object(u.a)({},h),{},{concept:a.concept}))):h.amount<=0?(console.log("Ingresa un dato de monto que no sea negativo o igual a 0"),b(Object(u.a)(Object(u.a)({},h),{},{amount:a.amount}))):l.a.put("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/alkemy-octubre",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_AUTH0_CLIENT_ID:"S7Jd3AFErGPjuH5ABtX3fK36jqxFBuVx",REACT_APP_AUTH0_DOMAIN:"sdfasdfhasalkemyasdjfasdfsdsep.us.auth0.com",REACT_APP_CREATE_ROUTE:"http://localhost:3500/api/operaciones/create",REACT_APP_DELETE_ROUTE:"http://localhost:3500/api/operaciones",REACT_APP_GET_OPS_ROUTE:"http://localhost:3500/api/operaciones",REACT_APP_LOGIN_ROUTE:"http://localhost:3500/api/user/login",REACT_APP_MODIFY_ROUTE:"http://localhost:3500/api/operaciones",REACT_APP_REGISTER_ROUTE:"http://localhost:3500/api/user/register",REACT_APP_USER_ROUTE:"http://localhost:3500/api/user"}).REACT_APP_MODIFY_OPERATION),{params:{id:t}}).then((function(e){console.log(e)}))}(e)},children:[Object(j.jsx)("input",{type:"text",name:"concept",value:h.concept,onChange:O}),Object(j.jsx)("input",{type:"number",name:"amount",value:h.amount,onChange:O}),Object(j.jsx)("input",{type:"date",name:"date",value:h.date,onChange:O}),Object(j.jsx)("input",{type:"submit"})]}):null]})},x=(a(47),function(e){var t=e.data,a=e.setReloading,s=e.setMessage,o=Object(n.useState)([]),c=Object(i.a)(o,2),r=c[0],l=c[1],u=Object(n.useState)([]),d=Object(i.a)(u,2),p=d[0],m=d[1],x=function(){var e=Object(b.a)(h.a.mark((function e(t){var n,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.filter((function(e){return"income"===e.op_type})).map((function(e){return Object(j.jsxs)("li",{children:[Object(j.jsx)("span",{children:e.concept}),"$",e.amount," ",Object(j.jsx)(g,{modId:e.id_operations,op:e,setReloading:a,setMessage:s})," ",Object(j.jsx)(O,{delId:e.id_operations,setReloading:a,setMessage:s})]},e.id_operations)}));case 2:return n=e.sent,e.next=5,t.filter((function(e){return"expense"===e.op_type})).map((function(e){return Object(j.jsxs)("li",{children:[Object(j.jsx)("span",{children:e.concept}),"$",e.amount," ",Object(j.jsx)(g,{modId:e.id_operations,op:e,setReloading:a,setMessage:s})," ",Object(j.jsx)(O,{delId:e.id_operations,setReloading:a,setMessage:s})]},e.id_operations)}));case 5:o=e.sent,0!==n.length&&l([n]),0!==o.length&&m([o]);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){x(t)}),[t]),Object(j.jsxs)("div",{className:"main-table",children:[Object(j.jsxs)("div",{className:"op-table",children:[Object(j.jsx)("h2",{children:"Ingresos"}),Object(j.jsx)("ul",{children:0===r.length?Object(j.jsx)("h2",{children:"No tienes operaciones en Ingresos. Puedes crear una abajo"}):r})]}),Object(j.jsxs)("div",{className:"op-table",children:[Object(j.jsx)("h2",{children:"Egresos"}),Object(j.jsx)("ul",{children:0!==p.length?p:Object(j.jsx)("h2",{children:"No tienes operaciones en Egresos. Puedes crear una abajo"})})]})]})}),f=(a(48),function(e){var t=e.setReloading,a=e.setMessage,s=e.categories,o=Object(n.useState)(!1),c=Object(i.a)(o,2),r=c[0],d=c[1],p=Object(n.useState)({concept:"",amount:0,op_type:"",op_date:"",category:"otros",modified_at:null}),O=Object(i.a)(p,2),g=O[0],x=O[1],f=function(e){x(Object(u.a)(Object(u.a)({},g),{},Object(m.a)({},e.target.name,e.target.value)))},_=function(){var e=Object(b.a)(h.a.mark((function e(n){var s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),""!==g.concept&&""!==g.op_type&&"0000-00-00"!==g.op_date&&""!==g.op_date){e.next=5;break}a({show:!0,message:"Completa los campos faltantes"}),e.next=18;break;case 5:if(!(g.concept.trim().length<=3)){e.next=10;break}a({show:!0,message:"Ingresa un concepto mas largo"}),x(Object(u.a)(Object(u.a)({},g),{},{concept:""})),e.next=18;break;case 10:if(!(g.amount<=0)){e.next=14;break}a({show:!0,message:"Ingresa un dato de monto que no sea negativo o igual a 0"}),e.next=18;break;case 14:return e.next=16,localStorage.getItem("Token");case 16:s=e.sent,l.a.post("http://localhost:3500/api/operaciones/create",g,{headers:{authorization:s}}).then((function(e){console.log(e),setTimeout((function(){t(!0)}),3e3)}));case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsxs)("div",{children:[Object(j.jsx)("button",{onClick:function(){return d(!r)},children:"Crear operaci\xf3n"}),r?Object(j.jsxs)("form",{className:"add-form",onSubmit:function(e){return _(e)},children:[Object(j.jsxs)("div",{children:[Object(j.jsx)("label",{htmlFor:"concept",children:"Concepto"}),Object(j.jsx)("input",{value:g.concept,name:"concept",placeholder:"Ingresa nombre de operacion",onChange:f})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("label",{htmlFor:"amount",children:"Monto"}),Object(j.jsx)("input",{value:g.amount,type:"number",name:"amount",placeholder:"500, 700, 80000",onChange:f})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("label",{htmlFor:"type",children:"Tipo de operaci\xf3n"}),Object(j.jsxs)("select",{value:g.op_type,name:"op_type",onChange:f,children:[Object(j.jsx)("option",{value:"",children:"Elige tipo de operacion"}),Object(j.jsx)("option",{value:"income",children:"Ingreso"}),Object(j.jsx)("option",{value:"expense",children:"Egreso"})]})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("label",{htmlFor:"category",children:"Categor\xeda"}),Object(j.jsxs)("select",{value:g.category,name:"category",onChange:f,children:[Object(j.jsx)("option",{value:"otros",children:"Otros"}),s.map((function(e,t){return Object(j.jsx)("option",{value:e,children:e},t)}))]})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("label",{htmlFor:"date",children:"Fecha"}),Object(j.jsx)("input",{value:g.op_date,type:"date",name:"op_date",onChange:f})]}),Object(j.jsx)("input",{type:"submit"})]}):null]})}),_=["gaming","suscripciones","hogar","Tecnologia","Trabajo","Salidas","Deportes","Educaci\xf3n","Delivery","hobbies","donaciones","belleza","auto","hijos","familia","mascotas","amigos","transporte","shopping","bares","entretenimiento","vestimenta","viajes","cuidado personal","servicios","cajeros","supermercados","restaurant"],E=function(e){var t=e.authorization,a=e.setAuthorization,s=e.setMessage,o=Object(n.useState)([]),c=Object(i.a)(o,2),r=c[0],p=c[1],h=Object(n.useState)(!1),b=Object(i.a)(h,2),O=b[0],m=b[1];return Object(n.useEffect)((function(){l.a.get("http://localhost:3500/api/user",{headers:{authorization:t.token}}).then((function(e){console.log(e),a(Object(u.a)(Object(u.a)({},t),{},{username:e.data.username,balance:e.data.balance}))})),l.a.get("http://localhost:3500/api/operaciones",{headers:{authorization:t.token}}).then((function(e){0!==e.data?(p(e.data.data),m(!1)):console.log("UN Error")}))}),[O]),Object(j.jsx)("div",{className:"home-div",children:Object(j.jsxs)("div",{className:"Home-container",children:[Object(j.jsxs)("h1",{children:["Bienvenid@ ",t.username]}),Object(j.jsxs)("div",{children:[Object(j.jsx)(d,{amount:t.balance}),Object(j.jsx)(x,{setMessage:s,setReloading:m,data:r}),Object(j.jsx)(f,{token:t.token,categories:_,setMessage:s,setReloading:m})]})]})})},v=(a(49),function(e){var t=e.setMessage,a=e.setVisible,s=Object(n.useState)({email:"",username:"",password:""}),o=Object(i.a)(s,2),c=o[0],r=o[1],d=c.email,p=c.username,h=c.password,b=function(e){r(Object(u.a)(Object(u.a)({},c),{},Object(m.a)({},e.target.name,e.target.value)))};return Object(j.jsxs)("div",{className:"Login-Page-container",children:[Object(j.jsx)("h1",{children:"Bienvenido a Wallet App"}),Object(j.jsx)("h2",{children:"Registrarse"}),Object(j.jsx)("div",{style:{width:"300px"},children:Object(j.jsx)("div",{className:"gif-Login",children:Object(j.jsx)("iframe",{title:"pepe",src:"https://giphy.com/embed/3o6UB5RrlQuMfZp82Y",width:"100%",height:"100%",frameBorder:"0",className:"giphy-embed",allowFullScreen:!0})})}),Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""===d||""===p||""===h?t({show:!0,message:"Completa los campos requeridos"}):p.length<=3?t({show:!0,message:"El username tiene que tener al menos 3 caracteres"}):h.length<6?t({show:!0,message:"La contrase\xf1a tiene que tener al menos 6 caracteres"}):l.a.post("http://localhost:3500/api/user/register",{headers:{Content_Type:"application/json"},email:d,username:p,password:h}).then((function(e){t({show:!0,message:e.data.message}),setTimeout((function(){a((function(e){return!e}))}),3e3)}))},children:[Object(j.jsxs)("div",{children:[Object(j.jsx)("label",{htmlFor:"email",children:"Email"}),Object(j.jsx)("input",{type:"email",name:"email",value:c.email,onChange:b})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("label",{htmlFor:"username",children:"Username"}),Object(j.jsx)("input",{type:"text",name:"username",value:c.username,onChange:b})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("label",{htmlFor:"password",children:"Password"}),Object(j.jsx)("input",{type:"password",name:"password",value:c.password,onChange:b})]}),Object(j.jsx)("input",{type:"submit",value:"Registrarse"})]}),Object(j.jsx)("button",{onClick:function(){return a((function(e){return!e}))},children:"\xbfYa tienes cuenta? \xa1Logueate aqu\xed!"}),Object(j.jsx)("p",{children:"Tienes que iniciar sesi\xf3n para poder acceder a la aplicaci\xf3n"})]})}),T=(a(50),function(e){var t=e.setLogin,a=e.setMessage,s=e.setAuthorization,o=Object(n.useState)({email:"",password:""}),c=Object(i.a)(o,2),r=c[0],d=c[1],p=Object(n.useState)(!1),h=Object(i.a)(p,2),b=h[0],O=h[1],g=r.email,x=r.password,f=function(e){d(Object(u.a)(Object(u.a)({},r),{},Object(m.a)({},e.target.name,e.target.value)))};return Object(j.jsx)(j.Fragment,{children:!0===b?Object(j.jsx)(v,{setMessage:a,setVisible:O}):Object(j.jsxs)("div",{className:"Login-Page-container",children:[Object(j.jsx)("h1",{children:"Bienvenido a Wallet App"}),Object(j.jsx)("h2",{children:"Loguearse"}),Object(j.jsx)("div",{style:{width:"300px"},children:Object(j.jsx)("div",{className:"gif-Login",children:Object(j.jsx)("iframe",{title:"pepe",src:"https://giphy.com/embed/3o6UB5RrlQuMfZp82Y",width:"100%",height:"100%",frameBorder:"0",className:"giphy-embed",allowFullScreen:!0})})}),Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""===g||""===x?a({show:!0,message:"Completa los campos requeridos"}):x.length<6?a({show:!0,message:"La contrase\xf1a tiene que tener al menos 6 caracteres"}):l.a.post("http://localhost:3500/api/user/login",{email:g,password:x}).then((function(e){a({show:!0,message:e.data.message}),localStorage.setItem("Token",e.data.token),s({username:"",balance:0,token:e.data.token}),setTimeout((function(){t(!0)}),3e3)}))},children:[Object(j.jsxs)("div",{children:[Object(j.jsx)("label",{htmlFor:"email",children:"Email"}),Object(j.jsx)("input",{type:"email",name:"email",value:r.email,onChange:f})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("label",{htmlFor:"password",children:"Password"}),Object(j.jsx)("input",{type:"password",name:"password",value:r.password,onChange:f})]}),Object(j.jsx)("input",{type:"submit"})]}),Object(j.jsx)("button",{onClick:function(){return O(!b)},children:"\xbfNo tienes cuenta? \xa1Registrate Aqu\xed!"}),Object(j.jsx)("p",{children:"Tienes que iniciar sesi\xf3n para poder acceder a la aplicaci\xf3n"})]})})});var R=function(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),a=t[0],s=t[1],o=Object(n.useState)({username:"",token:"",balance:0}),c=Object(i.a)(o,2),r=c[0],l=c[1],u=Object(n.useState)({show:!1,message:""}),d=Object(i.a)(u,2),p=d[0],h=d[1];return Object(n.useEffect)((function(){}),[a]),Object(n.useEffect)((function(){!1!==p.show&&setTimeout((function(){h({show:!1,message:""})}),5e3)}),[p]),Object(j.jsxs)(j.Fragment,{children:[!1!==p.show&&p.message,!0===a?Object(j.jsx)(E,{setMessage:h,setAuthorization:l,authorization:r}):Object(j.jsx)(T,{setLogin:s,setMessage:h,setAuthorization:l})]})},A=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,52)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,o=t.getLCP,c=t.getTTFB;a(e),n(e),s(e),o(e),c(e)}))};c.a.render(Object(j.jsx)(s.a.StrictMode,{children:Object(j.jsx)(R,{})}),document.getElementById("root")),A()}},[[51,1,2]]]);
//# sourceMappingURL=main.1c477072.chunk.js.map